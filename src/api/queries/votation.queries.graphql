query GetVotationById($votationId: String!) {
  votationById(votationId: $votationId) {
    id
    title
    description
    index
    hasVoted
    alternatives {
      id
      text
      votationId
    }
    status
    blankVotes
    hiddenVotes
    type
    numberOfWinners
    majorityThreshold
    meetingId
  }

  getVoteCount(votationId: $votationId) {
    votingEligibleCount
    voteCount
  }
}

query GetMeetingForLobby($meetingId: String!) {
  meetingById(meetingId: $meetingId) {
    id
    title
    owner {
      email
    }
  }

  getOpenVotation(meetingId: $meetingId)
}

query VotationsByMeetingId($meetingId: String!) {
  meetingById(meetingId: $meetingId) {
    id
    title
    owner {
      email
    }
    votations {
      id
      title
      status
      description
      blankVotes
      hiddenVotes
      type
      numberOfWinners
      majorityThreshold
      index
      alternatives {
        id
        text
      }
    }
  }

  resultsOfPublishedVotations(meetingId: $meetingId) {
    id
    alternatives {
      id
      text
      isWinner
    }
  }
}

query GetVoteCount($votationId: String!) {
  getVoteCount(votationId: $votationId) {
    votingEligibleCount
    voteCount
  }
}

query GetVotationResults($votationId: String!) {
  getVotationResults(votationId: $votationId) {
    alternatives {
      id
      text
      isWinner
      votes
    }
    blankVotes
    blankVoteCount
    voteCount
    votingEligibleCount
  }
}

query GetWinnerOfVotation($votationId: String!) {
  getWinnerOfVotation(votationId: $votationId) {
    id
    text
    votationId
  }
}

query GetStvResult($votationId: String!) {
  getStvResult(votationId: $votationId) {
    votationId
    quota
    voteCount
    votingEligibleCount
    stvRoundResults {
      index
      winners {
        votationId
        id
        text
      }
      losers {
        text
        id
      }
      alternativesWithRoundVoteCount {
        alternative {
          id
          text
        }
        voteCount
      }
    }
  }
}

query GetReviews($votationId: String!) {
  getReviews(votationId: $votationId) {
    approved
    disapproved
  }
  getMyReview(votationId: $votationId) {
    ... on VotationReview {
      approved
    }
    ... on NoReview {
      message
    }
  }
}
